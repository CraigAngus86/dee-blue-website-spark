@import 'mapbox-gl/dist/mapbox-gl.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* -----------------------------
   Base tokens (CSS variables)
   ----------------------------- */
@layer base {
  :root {
    /* Legacy tokens (kept for compatibility) → remapped to Baynounah */
    --primary: 0 0 0;            /* #000000  (Baynounah black) */
    --primary-dark: 0 0 0;
    --primary-light: 0 0 0;

    --secondary: 214 214 214;    /* #D6D6D6  (Neutral silver) */
    --secondary-dark: 190 190 190;
    --secondary-light: 235 235 235;

    /* Accent = Baynounah Gold */
    --accent: 252 199 67;        /* #FCC743 */
    --accent-dark: 224 176 59;   /* slightly darker gold */
    --accent-light: 255 215 120; /* lighter gold */

    /* Neutrals (legacy cool grey kept but not for alternation) */
    --white: 255 255 255;        /* #FFFFFF */
    --light-gray: 244 247 251;   /* #F4F7FB (cool) — avoid for section alt */
    --medium-gray: 226 232 240;  /* #E2E8F0 */
    --gray: 148 163 184;         /* #94A3B8 */
    --dark-gray: 71 85 105;      /* #475569 */
    --near-black: 30 41 59;      /* #1E293B (deprecated for text) */
    --black: 15 23 42;           /* legacy near-navy; left for safety */

    /* Baynounah brand tokens (canonical) */
    --brand-gold: 252 199 67;    /* #FCC743 */
    --brand-black: 0 0 0;        /* #000000 */
    --heritage-red: 177 25 25;   /* #B11919 */
    --heritage-green: 60 165 18; /* #3CA512 */
    --neutral-silver: 214 214 214; /* #D6D6D6 */

    /* Warm grey for section alternation (new, use this) */
    --warm-gray: 248 246 242;    /* #F8F6F2 */

    /* Status colors (for forms and feedback) */
    --success: 16 185 129;       /* #10B981 */
    --warning: 245 158 11;       /* #F59E0B */
    --error: 239 68 68;          /* #EF4444 */
    --info: 59 130 246;          /* #3B82F6 */

    /* Semantic */
    --surface-1: 255 255 255; /* cards / page surface */
    --surface-2: 244 247 251; /* raised / alt surface */
    --text-strong: 0 0 0;     /* primary text on light bg */
    --text-muted: 71 85 105;  /* subdued text */
    --link: 0 0 0;            /* default link (black) */
    --link-hover: 252 199 67; /* gold hover */
    --separator: 226 232 240; /* dividers/borders */

    /* Font family variables (for Tailwind integration) */
    --font-heading: 'Bebas Neue', sans-serif;
    --font-body: 'Open Sans', sans-serif;
    --font-montserrat: 'Montserrat', sans-serif;
    --font-inter: 'Inter', sans-serif;

    /* Motion */
    --animation-quick: 200ms;
    --animation-standard: 250ms;
    --animation-deliberate: 400ms;

    /* Elevation (premium feel) */
    --shadow-sm: 0 2px 8px rgba(0,0,0,0.10);
    --shadow-md: 0 8px 20px rgba(0,0,0,0.12);
    --shadow-lg: 0 16px 32px rgba(0,0,0,0.14);
    --shadow-xl: 0 24px 44px rgba(0,0,0,0.16);

    /* shadcn-style vars (used by components) */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
  }

  .dark {
    /* shadcn dark */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;

    /* semantic dark (optional tuning later) */
    --surface-1: 30 41 59;   /* slate-800-ish */
    --surface-2: 51 65 85;   /* slate-700-ish */
    --text-strong: 255 255 255;
    --text-muted: 203 213 225;  /* slate-300-ish */
    --link: 255 255 255;
    --link-hover: 252 199 67;
    --separator: 71 85 105;  /* slate-600-ish */
  }
}

/* -----------------------------
   Core Animations (Original)
   ----------------------------- */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes slideInRight { from { transform: translateX(100%); } to { transform: translateX(0); } }
@keyframes slideOutRight { from { transform: translateX(0); } to { transform: translateX(100%); } }

/* -----------------------------
   Additional Animations (Extended)
   ----------------------------- */
/* Pulse variations */
@keyframes pulse-slow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* Float effect */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

/* Float with delay variant */
@keyframes float-delayed {
  0%, 20% { transform: translateY(0px); }
  60% { transform: translateY(-20px); }
  100% { transform: translateY(0px); }
}

/* Expand effect */
@keyframes expand {
  from { width: 0; }
  to { width: 100%; }
}

/* Word reveal */
@keyframes word-reveal {
  from { 
    opacity: 0;
    transform: translateY(10px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

/* Gradient shift */
@keyframes gradient-shift {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Glitch effect */
@keyframes glitch {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-2px); }
  40% { transform: translateX(2px); }
  60% { transform: translateX(-1px); }
  80% { transform: translateX(1px); }
}

/* Digital flicker */
@keyframes digital-flicker {
  0%, 100% { opacity: 1; }
  10%, 30%, 50%, 70%, 90% { opacity: 0.5; }
  20%, 40%, 60%, 80% { opacity: 1; }
}

/* Data stream */
@keyframes data-stream {
  0% { transform: translateX(-100%); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateX(100%); opacity: 0; }
}

/* Matrix move */
@keyframes matrix-move {
  0% { transform: translate(0, 0); }
  100% { transform: translate(50px, 50px); }
}

/* Spin (for loaders) */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Ping (notification effect) */
@keyframes ping {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}

/* Bounce */
@keyframes bounce {
  0%, 100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

/* Rotation animations (NEW - for commercial pages) */
@keyframes rotate-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes rotate-slow-reverse {
  from { transform: rotate(360deg); }
  to { transform: rotate(0deg); }
}

/* Fade and slide combined (NEW - for commercial pages) */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Background slide effect (NEW - for commercial pages) */
@keyframes slide {
  from { transform: translateX(0); }
  to { transform: translateX(100%); }
}

/* Tailwind's default pulse (if needed) */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: .5; }
}

/* -----------------------------
   Animation Utility Classes
   ----------------------------- */
.animate-fade-in { animation: fadeIn var(--animation-standard) ease-out forwards; }
.animate-slide-up { animation: slideUp var(--animation-standard) ease-out forwards; }
.animate-scale-in { animation: scaleIn var(--animation-standard) ease-out forwards; }
.animate-slide-in-right { animation: slideInRight var(--animation-standard) ease-out forwards; }
.animate-slide-out-right { animation: slideOutRight var(--animation-standard) ease-out forwards; }

/* Extended animation utilities */
.animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
.animate-pulse-slow { animation: pulse-slow 3s ease-in-out infinite; }
.animate-float { animation: float 3s ease-in-out infinite; }
.animate-float-delayed { animation: float-delayed 4s ease-in-out infinite; }
.animate-expand { animation: expand 1s ease-out forwards; }
.animate-word-reveal { animation: word-reveal 0.6s ease-out forwards; }
.animate-gradient-shift { animation: gradient-shift 10s linear infinite; }
.animate-glitch { animation: glitch 0.3s ease-in-out; }
.animate-digital-flicker { animation: digital-flicker 2s linear infinite; }
.animate-data-stream { animation: data-stream 3s linear infinite; }
.animate-spin { animation: spin 1s linear infinite; }
.animate-ping { animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite; }
.animate-bounce { animation: bounce 1s infinite; }

/* NEW animation utilities for commercial pages */
.animate-rotate-slow { animation: rotate-slow 30s linear infinite; }
.animate-rotate-slow-reverse { animation: rotate-slow-reverse 30s linear infinite; }
.animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }

/* Animation delay utilities */
.animation-delay-200 { animation-delay: 200ms; }
.animation-delay-400 { animation-delay: 400ms; }
.animation-delay-600 { animation-delay: 600ms; }
.animation-delay-800 { animation-delay: 800ms; }
.animation-delay-1000 { animation-delay: 1000ms; }
.animation-delay-1200 { animation-delay: 1200ms; }
.animation-delay-1500 { animation-delay: 1500ms; }

/* Performance optimization for mobile */
@media (max-width: 768px) {
  /* Reduce animation complexity on mobile */
  .animate-float,
  .animate-float-delayed,
  .animate-gradient-shift,
  .animate-data-stream,
  .animate-rotate-slow,
  .animate-rotate-slow-reverse,
  .matrix-move {
    animation: none !important;
  }
  
  /* Simplify transforms on mobile */
  .animate-pulse-slow {
    animation: pulse 3s ease-in-out infinite;
  }
  
  /* Disable heavy effects on mobile */
  .animate-glitch,
  .animate-digital-flicker {
    animation: none !important;
    opacity: 1 !important;
  }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* -----------------------------
   Base element styles
   ----------------------------- */
body {
  /* Token-first so theme tweaks propagate site-wide */
  background: rgb(var(--surface-1));
  color: rgb(var(--brand-black));
  @apply font-body text-base;
}

/* Headings: Bebas Neue for H1/H2/H3 (regular, positive tracking) */
h1, h2, h3 {
  @apply font-heading;
  font-weight: 400;           /* Bebas regular per spec */
  letter-spacing: 0.02em;     /* positive tracking per spec */
  line-height: 1.05;
}
/* Subheads: Open Sans for H4–H6 */
h4, h5, h6 {
  @apply font-body font-semibold;
  line-height: 1.25;
}

/* Sizes — keep Tailwind tokens if you have them */
h1 { @apply text-h1 mb-6; }   /* expected ~80px on desktop */
h2 { @apply text-h2 mb-5; }   /* ~60px */
h3 { @apply text-h3 mb-4; }   /* ~48px */
h4 { @apply text-h4 mb-3; }
h5 { @apply text-h5 mb-2; }
h6 { @apply text-h6 mb-2; }

p  { @apply mb-4 leading-relaxed; }

/* Captions/supporting text */
small, .caption { font-size: 14px; color: rgb(var(--dark-gray)); }
.tagline { font-size: 20px; font-weight: 500; }

/* Heaters script (ensure it's loaded via next/font or @font-face) */
.heaters { font-family: 'Heaters', cursive; font-size: 32px; color: rgb(var(--brand-gold)); }

/* -----------------------------
   Links
   ----------------------------- */
.link {
  @apply relative inline-block font-medium;
  color: rgb(var(--link));
  transition: color var(--animation-quick) ease-out;
}
.link:after {
  content: '';
  @apply absolute w-full scale-x-0 h-0.5 bottom-0 left-0;
  background: rgb(var(--brand-gold));
  transform-origin: bottom right;
  transition: transform var(--animation-standard) ease-out;
}
.link:hover { color: rgb(var(--link-hover)); }
.link:hover:after { transform: scaleX(1); transform-origin: bottom left; }

/* -----------------------------
   Sections
   ----------------------------- */
.section { @apply py-12; }
@media (min-width: 768px) { .section { @apply py-16; } }
@media (min-width: 1024px) { .section { @apply py-24; } }

/* Alternating background helpers (use these) */
.section--white { background-color: rgb(var(--white)); }
.section--warm  { background-color: rgb(var(--warm-gray)); }

/* Standard section header with 4px gold accent */
.section-head { position: relative; padding-left: 24px; margin-bottom: 40px; }
.section-head::before {
  content: ""; position: absolute; left: 0; top: 0; bottom: 0;
  width: 4px; background-color: rgb(var(--brand-gold)); border-radius: 2px;
}
.section-head h2 { margin-bottom: 8px; } /* inherits Bebas + 0.02em */
.section-head .subtitle { font-size: 16px; color: rgb(var(--dark-gray)); }

/* Optional section underline helper */
.section-underline { position: relative; display: inline-block; }
.section-underline::after {
  content: "";
  display: block;
  height: 3px;
  width: 64px;
  background: rgb(var(--brand-gold));
  margin-top: 10px;
}

/* -----------------------------
   Overlays / effects
   ----------------------------- */
.duotone { position: relative; }
.duotone::before {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(
    to right,
    rgb(0 0 0 / 0.35),
    rgb(var(--brand-gold) / 0.18)
  );
  mix-blend-mode: color;
  pointer-events: none;
  z-index: 1;
}

/* Scale hover */
.hover-scale { transition: transform var(--animation-quick) ease-out; }
.hover-scale:hover { transform: scale(1.03); }

/* Scrollbar (hidden but functional) */
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-hide::-webkit-scrollbar { display: none; }

/* 3D Transform support (NEW - for commercial pages) */
.perspective-1000 { perspective: 1000px; }
.transform-style-3d { transform-style: preserve-3d; }

/* -----------------------------
   Mapbox (neutral + brand) — tokenized
   ----------------------------- */
.mapboxgl-map { background: rgb(var(--white)) !important; }
.mapboxgl-ctrl-group {
  background: rgb(var(--white)) !important;
  border: 1px solid rgb(var(--neutral-silver)) !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.08) !important;
}
.mapboxgl-ctrl-group button {
  background: rgb(var(--white)) !important;
  border: none !important;
  color: rgb(var(--brand-black)) !important;
}
.mapboxgl-ctrl-group button:hover {
  background: rgb(var(--brand-gold) / 0.15) !important; /* gold tint */
  color: rgb(var(--brand-black)) !important;
}
.mapboxgl-popup-content {
  border-radius: 0.75rem !important;
  box-shadow: 0 10px 25px -5px rgba(0,0,0,0.10) !important;
  border: 1px solid rgb(var(--neutral-silver)) !important;
}
.mapboxgl-popup-tip { border-top-color: rgb(var(--neutral-silver)) !important; }

/* -----------------------------
   Component helpers (optional)
   ----------------------------- */
.section-header { @apply flex items-end justify-between; }
.section-header__title { @apply text-h2 font-heading; font-weight: 400; letter-spacing: 0.02em; }
.section-header__subtitle { @apply text-sm; color: rgb(var(--dark-gray)); }

/* Deprecation helpers to keep old classes from leaking brand consistency */
.text-near-black { color: rgb(var(--brand-black)) !important; }
.bg-near-black   { background-color: rgb(var(--brand-black)) !important; }